<!DOCTYPE html>
<html lang="en"> 
<head>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-YYQ5ZQJQX9"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'G-YYQ5ZQJQX9');
	</script>

    <title>Portal COVID-19 Cymru</title>
    
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <link rel="shortcut icon" href="assets/images/my_favicon.ico"> 
    
    <!-- FontAwesome JS-->
    <script defer src="assets/plugins/fontawesome/js/all.min.js"></script>
    
    <!-- App CSS -->  
    <link id="theme-style" rel="stylesheet" href="assets/css/portal.css">

	<link rel="stylesheet" type="text/css" href="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.0/css/jquery.dataTables.css">
   	<link rel="stylesheet" type="text/css" href="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.0/css/jquery.dataTables_themeroller.css">
   	<script type="text/javascript" charset="utf8" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.1.min.js"></script>
   	<script type="text/javascript" charset="utf8" src="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.0/jquery.dataTables.min.js"></script>

	
</head> 



<body class="app">   	
    <header class="app-header fixed-top">
		<div class="app-header-inner">  
	        <div class="container-fluid py-2">
		        <div class="app-header-content"> 
		            <div class="row justify-content-between align-items-center">
			        
				    <div class="col-auto">
					    <a id="sidepanel-toggler" class="sidepanel-toggler d-inline-block d-xl-none" href="#">
						    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg>
					    </a>
				    </div><!--//col-->

		        	</div><!--//row-->
	            </div><!--//app-header-content-->
	        </div><!--//container-fluid-->
        </div>	   	            
        <div id="app-sidepanel" class="app-sidepanel"> 
	        <div id="sidepanel-drop" class="sidepanel-drop"></div>
	        <div class="sidepanel-inner d-flex flex-column">
		        <a href="#" id="sidepanel-close" class="sidepanel-close d-xl-none">&times;</a>
		        <div class="app-branding">
		            <a class="app-logo" style='padding-left:23%;' href="index.html">
						<span class="fa-stack fa-2x" style='width:3em; height:2em; font-size:2.5em;'>
							<i class="fas fa-circle fa-stack-2x"></i>
							<i class="fas fa-lungs-virus fa-stack-1x fa-inverse"></i>
						</span>
					</br>
						<span class="logo-text">Portal COVID-19 Cymru</span>
					</a>
		        </div><!--//app-branding-->  
		        
			    <nav id="app-nav-main" class="app-nav app-nav-main flex-grow-1">
				    <ul class="app-menu list-unstyled accordion" id="menu-accordion">
					    <li class="nav-item">
					        <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
					        <a class="nav-link" href="index.html">
		                        <span class="nav-link-text" style='font-size:12pt;'><i class="fas fa-home"></i>&nbsp;&nbsp;Home</span>
					        </a><!--//nav-link-->
					    </li><!--//nav-item-->
					    <li class="nav-item">
					        <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
					        <a class="nav-link" href="map.html">
		                         <span class="nav-link-text" style='font-size:12pt;'><i class="fas fa-map-marked-alt"></i>&nbsp;&nbsp;Map</span>
					        </a><!--//nav-link-->
					    </li><!--//nav-item-->
					    <li class="nav-item has-submenu">
					        <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
					        <a class="nav-link active submenu-toggle" href="#" data-toggle="collapse" data-target="#submenu-1" aria-expanded="false" aria-controls="submenu-1">
								<span class="nav-link-text" style='font-size:12pt;'><i class="fas fa-chart-bar"></i>&nbsp;&nbsp;Graphs</span>

		                         <span class="submenu-arrow">
		                             <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
	  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
	</svg>
	                             </span><!--//submenu-arrow-->
					        </a><!--//nav-link-->
					        <div id="submenu-1" class="collapse submenu submenu-1" data-parent="#menu-accordion">
						        <ul class="submenu-list list-unstyled">
							        <li class="submenu-item"><a class="submenu-link" href="cumulative.html">Cumulative Data</a></li>
									<li class="submenu-item"><a class="submenu-link" href="age.html">Daily Age Distribution</a></li>
									<li class="submenu-item"><a class="submenu-link" href="gender.html">Cumulative Gender Distribution</a></li>
							        <li class="submenu-item"><a class="submenu-link" href="cu.html">Cardiff University</a></li>
						        </ul>
					        </div>
					    </li><!--//nav-item-->			    
				    </ul><!--//app-menu-->
				</nav><!--//app-nav-->

				<div class="app-sidepanel-footer">
				    <nav class="app-nav app-nav-footer">
					    <ul class="app-menu footer-menu list-unstyled">
						    <li class="nav-item" style='height:100%;'>
						        <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
						        <a class="nav-link" href="https://twitter.com/Lowri_Williams">
							        <span class="nav-icon">
										<span class="nav-link-text" style='font-size:12pt;'><i class="fab fa-twitter"></i>&nbsp;&nbsp;@Lowri_Williams</span>
							        </span>
						        </a><!--//nav-link-->
							</li><!--//nav-item-->
					    </ul><!--//footer-menu-->
				    </nav>
			    </div><!--//app-sidepanel-footer-->
	        </div><!--//sidepanel-inner-->
	    </div><!--//app-sidepanel-->
    </header><!--//app-header-->
    
    <div class="app-wrapper">
	    <div class="app-content pt-3 p-md-3 p-lg-4">
		    <div class="container-xl">
			    <div class="row">
					<div class="col">
						<div class="app-card app-card-chart h-100 shadow-sm">
							<div class="app-card-header p-3">
								<div class="row justify-content-between align-items-center">
									<div class="col-auto">
										<h4 class="app-card-title">Cumulative Data in Wales</h4>
									</div><!--//col-->
								</div><!--//row-->
							</div>
							<div class="app-card-body p-3 p-lg-4">
								<div class="mb-3 d-flex">   
									<select id="chartType" class="form-select form-select-sm ml-auto d-inline-flex w-auto">
										<option value="year">This year</option>
										<option value="month">This month</option>
										<option value="week">This week</option>
									</select>	
								</div>
								<div class="chart-container" style="position:relative;width:100%;height:600px;"><div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
									<canvas id="yearChart"></canvas>
									<canvas id="monthChart" ></canvas>
									<canvas id="weekChart"></canvas>
								</div>
							</div><!--//app-card-body-->
						</div><!--//app-card-->
					</div><!--//col-->
				</div>
			</div>
		</div>
	    <footer class="app-footer">
		    <div class="container text-center py-3">
		         <!--/* This template is free as long as you keep the footer attribution link. If you'd like to use the template without the attribution link, you can buy the commercial license via our website: themes.3rdwavemedia.com Thank you for your support. :) */-->
			<script type='text/javascript' src='https://ko-fi.com/widgets/widget_2.js'></script>
			<script type='text/javascript'>kofiwidget2.init('Support Me on Ko-fi', '#29abe0', 'D1D31KGYH');kofiwidget2.draw();</script>   
		    </div>
	    </footer><!--//app-footer-->
	    
    </div><!--//app-wrapper-->    					

 
    <!-- Javascript -->          
    <script src="assets/plugins/popper.min.js"></script>
    <script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>  

    <!-- Charts JS -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.0.0-beta.5/chart.js"></script>
	
    <!-- Page Specific JS -->
	<script src="assets/js/app.js"></script> 

	<script type='text/javascript'>
		var year_dates = false;
		var year_cases = false;
		var year_deaths = false;
		var month_dates = false;
		var month_cases = false;
		var month_deaths = false;
		var week_dates = false;
		var week_cases = false;
		var week_deaths = false;
		var year_vaccination = false;
		var month_vaccination = false;
		var week_vaccination = false;
	</script>
	<script src="assets/js/index_graph.js"></script> 

	
	<script>
		let select = document.querySelector('#chartType');
		// concat Chart for the canvas ID
		let chart = select.options[select.selectedIndex].value + 'Chart'; 
		
		document.querySelectorAll('canvas').forEach(c => {c.style.display = (c.id === chart)? 'inherit' : 'none';})

		select.addEventListener('change', showHide);

	function showHide() {
	// concat Chart for the canvas ID
	let chart = this.options[select.selectedIndex].value + 'Chart';
		document.querySelectorAll('canvas')
		.forEach(c => {
		c.style.display = (c.id === chart) ? 'inherit' : 'none';
		})
	}

	// Year
	var ctx = document.getElementById("yearChart");
	var lineChart = new Chart(ctx, {
	type: 'line',
	data: {
		labels: year_dates,
		datasets: [{
		label: 'Cumulative Cases',
		data: year_cases,
		borderColor:  "#3e95cd",
		fill: false,
		},
		{
		label: 'Cumulative Deaths',
		data: year_deaths,
		borderColor:  "#cd3e4e",
		fill: false
		},
		{
		label: 'Cumulative Vaccinations',
		data: year_vaccination,
		borderColor:  "#3ecd76",
		fill: false
		}
		]
	},
	options: {
		maintainAspectRatio: false,
		responsive:true,
		scales: {
			yAxes: [{
				ticks: {
					beginAtZero: true
				}
			}]
		}
	}
	});

	// Month
	var ctx = document.getElementById("monthChart");
	var lineChart = new Chart(ctx, {
	type: 'line',
	data: {
		labels: month_dates,
		datasets: [{
		label: 'Cumulative Cases',
		data: month_cases,
		borderColor:  "#3e95cd",
		fill: false,
		},
		{
		label: 'Cumulative Deaths',
		data: month_deaths,
		borderColor: "#cd3e4e",
		fill: false,
		},
		{
		label: 'Cumulative Vaccinations',
		data: month_vaccination,
		borderColor:  "#3ecd76",
		fill: false
		}
		]
	},
	options: {
		maintainAspectRatio: false,
		responsive:true,
		scales: {
			yAxes: [{
				ticks: {
					beginAtZero: true
				}
			}]
		}
	}
	});

	// Week
	var ctx = document.getElementById("weekChart");
	var lineChart = new Chart(ctx, {
	type: 'line',
	data: {
		labels: week_dates,
		datasets: [{
		label: 'Cumulative Cases',
		data: week_cases,
		borderColor:  "#3e95cd",
		fill: false,
		},
		{
		label: 'Cumulative Deaths',
		data: week_deaths,
		borderColor: "#cd3e4e",
		fill: false,
		},
		{
		label: 'Cumulative Vaccinations',
		data: week_vaccination,
		borderColor:  "#3ecd76",
		fill: false
		}]
	},
	options: {
		maintainAspectRatio: false,
		responsive:true,
		scales: {
			yAxes: [{
				ticks: {
					beginAtZero: true
				}
			}]
		}
	}
	});
	</script>

</body>
</html> 
